2019-07-31 19:15:01,149 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.impl.CheckMessageVersionHandler' on INBOUND message context
2019-07-31 19:15:01,150 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,150 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.saml1.binding.impl.SAML1ArtifactRequestIssuerHandler' on INBOUND message context
2019-07-31 19:15:01,150 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,151 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.impl.SAMLProtocolAndRoleHandler' on INBOUND message context
2019-07-31 19:15:01,151 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,152 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.impl.SAMLMetadataLookupHandler' on INBOUND message context
2019-07-31 19:15:01,153 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,153 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.impl.SAMLAddAttributeConsumingServiceHandler' on INBOUND message context
2019-07-31 19:15:01,153 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,154 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.InitializeRelyingPartyContextFromSAMLPeer:132] - Profile Action InitializeRelyingPartyContextFromSAMLPeer: Attaching RelyingPartyContext based on SAML peer https://sptest.pku.edu.cn/shibboleth
2019-07-31 19:15:01,154 - 162.105.126.239 - DEBUG [net.shibboleth.idp.relyingparty.impl.DefaultRelyingPartyConfigurationResolver:293] - Resolving relying party configuration
2019-07-31 19:15:01,154 - 162.105.126.239 - DEBUG [net.shibboleth.idp.relyingparty.impl.DefaultRelyingPartyConfigurationResolver:314] - No relying party configurations are applicable, returning the default configuration shibboleth.DefaultRelyingParty
2019-07-31 19:15:01,154 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.SelectRelyingPartyConfiguration:136] - Profile Action SelectRelyingPartyConfiguration: Found relying party configuration shibboleth.DefaultRelyingParty for request
2019-07-31 19:15:01,155 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.PopulateProfileInterceptorContext:126] - Profile Action PopulateProfileInterceptorContext: Installing flow intercept/security-policy/saml2-sso into interceptor context
2019-07-31 19:15:01,156 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.FilterFlowsByNonBrowserSupport:52] - Profile Action FilterFlowsByNonBrowserSupport: Request does not have non-browser requirement, nothing to do
2019-07-31 19:15:01,156 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:101] - Profile Action SelectProfileInterceptorFlow: Checking flow intercept/security-policy/saml2-sso for applicability...
2019-07-31 19:15:01,157 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:84] - Profile Action SelectProfileInterceptorFlow: Selecting flow intercept/security-policy/saml2-sso
2019-07-31 19:15:01,157 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.security.impl.ReceivedEndpointSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,158 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,158 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.security.impl.MessageReplaySecurityHandler' on INBOUND message context
2019-07-31 19:15:01,159 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,159 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.security.impl.MessageLifetimeSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,159 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,160 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.saml2.binding.security.impl.SAML2AuthnRequestsSignedSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,160 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,161 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.common.binding.security.impl.SAMLProtocolMessageXMLSignatureSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,161 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,161 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.saml2.binding.security.impl.SAML2HTTPRedirectDeflateSignatureSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,162 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,162 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.saml2.binding.security.impl.SAML2HTTPPostSimpleSignSecurityHandler' on INBOUND message context
2019-07-31 19:15:01,162 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,163 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.messaging.handler.impl.CheckMandatoryIssuer' on INBOUND message context
2019-07-31 19:15:01,163 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,164 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.WriteProfileInterceptorResultToStorage:68] - Profile Action WriteProfileInterceptorResultToStorage: No results available from interceptor context, nothing to store
2019-07-31 19:15:01,164 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.FilterFlowsByNonBrowserSupport:52] - Profile Action FilterFlowsByNonBrowserSupport: Request does not have non-browser requirement, nothing to do
2019-07-31 19:15:01,164 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:65] - Profile Action SelectProfileInterceptorFlow: Moving completed flow intercept/security-policy/saml2-sso to completed set, selecting next one
2019-07-31 19:15:01,164 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:80] - Profile Action SelectProfileInterceptorFlow: No flows available to choose from
2019-07-31 19:15:01,165 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.InitializeOutboundMessageContext:149] - Profile Action InitializeOutboundMessageContext: Initialized outbound message context
2019-07-31 19:15:01,165 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.PopulateBindingAndEndpointContexts:375] - Profile Action PopulateBindingAndEndpointContexts: Attempting to resolve endpoint of type {urn:oasis:names:tc:SAML:2.0:metadata}AssertionConsumerService for outbound message
2019-07-31 19:15:01,166 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.PopulateBindingAndEndpointContexts:516] - Profile Action PopulateBindingAndEndpointContexts: Populating template endpoint for resolution from SAML AuthnRequest
2019-07-31 19:15:01,166 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.PopulateBindingAndEndpointContexts:418] - Profile Action PopulateBindingAndEndpointContexts: Resolved endpoint at location https://sptest.pku.edu.cn/Shibboleth.sso/SAML2/POST using binding urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST
2019-07-31 19:15:01,167 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.PopulateDelegationContext:387] - No AttributeConsumingService was resolved, won't be able to determine delegation requested status via metadata
2019-07-31 19:15:01,167 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.PopulateDelegationContext:520] - No AttributeConsumingService was available
2019-07-31 19:15:01,167 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.PopulateDelegationContext:505] - Delegation request was not explicitly indicated, using default value: NOT_REQUESTED
2019-07-31 19:15:01,167 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.PopulateDelegationContext:294] - Issuance of a delegated Assertion is not in effect, skipping further processing
2019-07-31 19:15:01,169 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.PopulateEncryptionParameters:296] - Profile Action PopulateEncryptionParameters: Encryption for assertions (true), identifiers (false), attributes(false)
2019-07-31 19:15:01,169 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.PopulateEncryptionParameters:306] - Profile Action PopulateEncryptionParameters: Resolving EncryptionParameters for request
2019-07-31 19:15:01,170 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.PopulateEncryptionParameters:371] - Profile Action PopulateEncryptionParameters: Adding entityID to resolution criteria
2019-07-31 19:15:01,170 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.PopulateEncryptionParameters:382] - Profile Action PopulateEncryptionParameters: Adding role metadata to resolution criteria
2019-07-31 19:15:01,171 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.PopulateEncryptionParameters:322] - Profile Action PopulateEncryptionParameters: Resolved EncryptionParameters
2019-07-31 19:15:01,172 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.ExtractSubjectFromRequest:144] - Profile Action ExtractSubjectFromRequest: No Subject NameID/NameIdentifier in message needs inbound processing
2019-07-31 19:15:01,173 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:174] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.saml.saml2.binding.impl.ExtractProxiedRequestersHandler' on INBOUND message context
2019-07-31 19:15:01,173 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.AuthnRequestImpl'
2019-07-31 19:15:01,174 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.InitializeAuthenticationContext:138] - Profile Action InitializeAuthenticationContext: Created authentication context: AuthenticationContext{initiationInstant=2019-07-31T19:15:01.174+08:00, isPassive=false, forceAuthn=false, hintedName=null, maxAge=0, potentialFlows=[], activeResults=[], attemptedFlow=null, signaledFlowId=null, authenticationStateMap={}, resultCacheable=true, initialAuthenticationResult=null, authenticationResult=null, completionInstant=1970-01-01T08:00:00.000+08:00}
2019-07-31 19:15:01,175 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.ProcessRequestedAuthnContext:174] - Profile Action ProcessRequestedAuthnContext: AuthnRequest did not contain a RequestedAuthnContext, nothing to do
2019-07-31 19:15:01,176 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.PopulateAuthenticationContext:221] - Profile Action PopulateAuthenticationContext: Installed 1 potential authentication flows into AuthenticationContext
2019-07-31 19:15:01,177 - 162.105.126.239 - DEBUG [net.shibboleth.idp.session.impl.PopulateSessionContext:154] - Profile Action PopulateSessionContext: No session found for client
2019-07-31 19:15:01,178 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.InitializeRequestedPrincipalContext:152] - Profile Action InitializeRequestedPrincipalContext: Profile configuration did not supply any default authentication methods
2019-07-31 19:15:01,178 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.FilterFlowsByForcedAuthn:53] - Profile Action FilterFlowsByForcedAuthn: Request does not have forced authentication requirement, nothing to do
2019-07-31 19:15:01,179 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.FilterFlowsByNonBrowserSupport:53] - Profile Action FilterFlowsByNonBrowserSupport: Request does not have non-browser requirement, nothing to do
2019-07-31 19:15:01,179 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectAuthenticationFlow:264] - Profile Action SelectAuthenticationFlow: No specific Principals requested
2019-07-31 19:15:01,180 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectAuthenticationFlow:309] - Profile Action SelectAuthenticationFlow: No usable active results available, selecting an inactive flow
2019-07-31 19:15:01,180 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectAuthenticationFlow:363] - Profile Action SelectAuthenticationFlow: Selecting inactive authentication flow authn/Shibcas
2019-07-31 19:15:09,825 - 162.105.126.239 - INFO [net.unicon.idp.externalauth.ShibcasAuthServlet:60] - Created an IdP subject instance with principals containing attributes for carsitest
2019-07-31 19:15:09,830 - 162.105.126.239 - INFO [net.shibboleth.idp.authn.impl.ValidateExternalAuthentication:139] - Profile Action ValidateExternalAuthentication: External authentication succeeded for Subject: [IdPAttributePrincipal{attribute=IdPAttribute{id=authenticationDate, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=2019-07-31T19:15:09.806558+08:00[Asia/Shanghai]}]}}, IdPAttributePrincipal{attribute=IdPAttribute{id=authenticationMethod, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=LdapAuthenticationHandler}]}}, IdPAttributePrincipal{attribute=IdPAttribute{id=isFromNewLogin, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=true}]}}, UsernamePrincipal{username=carsitest}, IdPAttributePrincipal{attribute=IdPAttribute{id=credentialType, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=UsernamePasswordCredential}]}}, IdPAttributePrincipal{attribute=IdPAttribute{id=successfulAuthenticationHandlers, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=LdapAuthenticationHandler}]}}, IdPAttributePrincipal{attribute=IdPAttribute{id=longTermAuthenticationRequestTokenUsed, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=false}]}}, IdPAttributePrincipal{attribute=IdPAttribute{id=eduPersonScopedAffiliation, displayNames={}, displayDescriptions={}, encoders=[], values=[StringAttributeValue{value=faculty}]}}]
2019-07-31 19:15:09,830 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.AbstractValidationAction:354] - Profile Action ValidateExternalAuthentication: Adding custom Principal(s) defined on underlying flow descriptor
2019-07-31 19:15:09,831 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.PopulateSubjectCanonicalizationContext:79] - Profile Action PopulateSubjectCanonicalizationContext: Installing 2 canonicalization flows into SubjectCanonicalizationContext
2019-07-31 19:15:09,831 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectSubjectCanonicalizationFlow:100] - Profile Action SelectSubjectCanonicalizationFlow: Checking canonicalization flow c14n/x500 for applicability...
2019-07-31 19:15:09,831 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectSubjectCanonicalizationFlow:106] - Profile Action SelectSubjectCanonicalizationFlow: Canonicalization flow c14n/x500 was not applicable to this request
2019-07-31 19:15:09,832 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectSubjectCanonicalizationFlow:100] - Profile Action SelectSubjectCanonicalizationFlow: Checking canonicalization flow c14n/simple for applicability...
2019-07-31 19:15:09,832 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.SelectSubjectCanonicalizationFlow:83] - Profile Action SelectSubjectCanonicalizationFlow: Selecting canonicalization flow c14n/simple
2019-07-31 19:15:09,832 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.AbstractSubjectCanonicalizationAction:226] - Profile Action SimpleSubjectCanonicalization: trimming whitespace of input string 'carsitest'
2019-07-31 19:15:09,833 - 162.105.126.239 - DEBUG [net.shibboleth.idp.session.impl.DetectIdentitySwitch:148] - Profile Action DetectIdentitySwitch: No previous session found, nothing to do
2019-07-31 19:15:09,833 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.FinalizeAuthentication:138] - Profile Action FinalizeAuthentication: Canonical principal name was established as 'carsitest'
2019-07-31 19:15:09,834 - 162.105.126.239 - DEBUG [net.shibboleth.idp.authn.impl.FinalizeAuthentication:187] - Profile Action FinalizeAuthentication: Request did not have explicit authentication requirements, result is accepted
2019-07-31 19:15:09,834 - 162.105.126.239 - DEBUG [net.shibboleth.idp.session.impl.UpdateSessionWithAuthenticationResult:221] - Profile Action UpdateSessionWithAuthenticationResult: Creating new session for principal carsitest
2019-07-31 19:15:09,834 - 162.105.126.239 - DEBUG [net.shibboleth.idp.session.impl.StorageBackedSessionManager:534] - Created new session 4bc50c6ac61fbf60e65bf31993fcc9bdf5475313cbceb2f717bc9439abca11f9 for principal carsitest
2019-07-31 19:15:09,835 - 162.105.126.239 - DEBUG [net.shibboleth.idp.session.impl.StorageBackedIdPSession:569] - Saving AuthenticationResult for flow authn/Shibcas in session 4bc50c6ac61fbf60e65bf31993fcc9bdf5475313cbceb2f717bc9439abca11f9
2019-07-31 19:15:09,836 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:244] - Attribute Resolver 'ShibbolethAttributeResolver': Initiating attribute resolution
2019-07-31 19:15:09,836 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:252] - Attribute Resolver 'ShibbolethAttributeResolver': Attempting to resolve the following attribute definitions [eduPersonScopedAffiliation, employeetype]
2019-07-31 19:15:09,837 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:442] - Attribute Resolver 'ShibbolethAttributeResolver': Resolving dependencies for 'eduPersonScopedAffiliation'
2019-07-31 19:15:09,837 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.ad.impl.ContextDerivedAttributeDefinition:110] - SubjectDerivedAttributeDefinitionemployeetype Generated 1 values.
2019-07-31 19:15:09,837 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.ad.impl.ContextDerivedAttributeDefinition:102] - Attribute Definition 'employeetype': Generated 1 values.
2019-07-31 19:15:09,838 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.AbstractAttributeDefinition:264] - Attribute Definition 'employeetype': produced an attribute with the following values [StringAttributeValue{value=faculty}]
2019-07-31 19:15:09,838 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:339] - Attribute Resolver 'ShibbolethAttributeResolver': Attribute definition 'employeetype' produced an attribute with 1 values
2019-07-31 19:15:09,839 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:461] - Attribute Resolver 'ShibbolethAttributeResolver': Finished resolving dependencies for 'eduPersonScopedAffiliation'
2019-07-31 19:15:09,839 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.AbstractAttributeDefinition:264] - Attribute Definition 'eduPersonScopedAffiliation': produced an attribute with the following values [ScopedStringAttributeValue{value=faculty, scope=pku.edu.cn}]
2019-07-31 19:15:09,839 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:339] - Attribute Resolver 'ShibbolethAttributeResolver': Attribute definition 'eduPersonScopedAffiliation' produced an attribute with 1 values
2019-07-31 19:15:09,840 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:262] - Attribute Resolver 'ShibbolethAttributeResolver': Finalizing resolved attributes
2019-07-31 19:15:09,840 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:501] - Attribute Resolver 'ShibbolethAttributeResolver': De-duping (and null filtering) attribute definition employeetype result
2019-07-31 19:15:09,840 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:533] - Attribute Resolver 'ShibbolethAttributeResolver': Attribute 'employeetype' has 1 values after post-processing
2019-07-31 19:15:09,841 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:501] - Attribute Resolver 'ShibbolethAttributeResolver': De-duping (and null filtering) attribute definition eduPersonScopedAffiliation result
2019-07-31 19:15:09,841 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:533] - Attribute Resolver 'ShibbolethAttributeResolver': Attribute 'eduPersonScopedAffiliation' has 1 values after post-processing
2019-07-31 19:15:09,841 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.resolver.impl.AttributeResolverImpl:267] - Attribute Resolver 'ShibbolethAttributeResolver': Final resolved attribute collection: [employeetype, eduPersonScopedAffiliation]
2019-07-31 19:15:09,842 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.impl.AttributeFilterImpl:125] - Attribute filtering engine 'ShibbolethAttributeFilter'  Beginning process of filtering the following 2 attributes: [eduPersonScopedAffiliation, employeetype]
2019-07-31 19:15:09,842 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.AttributeFilterPolicy:128] - Attribute Filter Policy 'example1'  Checking if attribute filter policy is active
2019-07-31 19:15:09,843 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.AttributeFilterPolicy:135] - Attribute Filter Policy 'example1'  Policy is active for this request
2019-07-31 19:15:09,843 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.AttributeFilterPolicy:162] - Attribute Filter Policy 'example1'  Applying attribute filter policy to current set of attributes: [eduPersonScopedAffiliation, employeetype]
2019-07-31 19:15:09,843 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.AttributeRule:168] - Attribute filtering engine '/AttributeFilterPolicyGroup:ShibbolethFilterPolicy/AttributeRule:_cf4ceb60bad32f24054837ae9618c3d8'  Filtering values for attribute 'eduPersonScopedAffiliation' which currently contains 1 values
2019-07-31 19:15:09,844 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.AttributeRule:177] - Attribute filtering engine '/AttributeFilterPolicyGroup:ShibbolethFilterPolicy/AttributeRule:_cf4ceb60bad32f24054837ae9618c3d8'  Filter has permitted the release of 1 values for attribute 'eduPersonScopedAffiliation'
2019-07-31 19:15:09,844 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.impl.AttributeFilterImpl:189] - Attribute filtering engine 'ShibbolethAttributeFilter': 1 values for attribute 'eduPersonScopedAffiliation' remained after filtering
2019-07-31 19:15:09,844 - 162.105.126.239 - DEBUG [net.shibboleth.idp.attribute.filter.impl.AttributeFilterImpl:176] - Attribute filtering engine 'ShibbolethAttributeFilter': no policy permitted release of attribute employeetype values
2019-07-31 19:15:09,845 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.PopulateProfileInterceptorContext:126] - Profile Action PopulateProfileInterceptorContext: Installing flow intercept/attribute-release into interceptor context
2019-07-31 19:15:09,846 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.FilterFlowsByNonBrowserSupport:52] - Profile Action FilterFlowsByNonBrowserSupport: Request does not have non-browser requirement, nothing to do
2019-07-31 19:15:09,846 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:101] - Profile Action SelectProfileInterceptorFlow: Checking flow intercept/attribute-release for applicability...
2019-07-31 19:15:09,846 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:84] - Profile Action SelectProfileInterceptorFlow: Selecting flow intercept/attribute-release
2019-07-31 19:15:09,847 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.impl.InitializeConsentContext:47] - Profile Action InitializeConsentContext: Created consent context 'ConsentContext{previousConsents={}, chosenConsents={}}'
2019-07-31 19:15:09,847 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.InitializeAttributeReleaseContext:47] - Profile Action InitializeAttributeReleaseContext: Created attribute release context 'AttributeReleaseContext{consentableAttributes={}}'
2019-07-31 19:15:09,848 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.AbstractAttributeReleaseAction:153] - Profile Action PopulateAttributeReleaseContext: Found attributeContext 'net.shibboleth.idp.attribute.context.AttributeContext@6e49528e'
2019-07-31 19:15:09,848 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.PopulateAttributeReleaseContext:99] - Profile Action PopulateAttributeReleaseContext: Consentable attributes '{eduPersonScopedAffiliation=IdPAttribute{id=eduPersonScopedAffiliation, displayNames={}, displayDescriptions={}, encoders=[net.shibboleth.idp.saml.attribute.encoding.impl.SAML2ScopedStringAttributeEncoder@23ac74, net.shibboleth.idp.saml.attribute.encoding.impl.SAML1ScopedStringAttributeEncoder@bab64ea8], values=[ScopedStringAttributeValue{value=faculty, scope=pku.edu.cn}]}}'
2019-07-31 19:15:09,849 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.FlowIdLookupFunction:69] - Current flow id is 'intercept/attribute-release'
2019-07-31 19:15:09,850 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.JoinFunction:81] - Result 'carsitest:https://sptest.pku.edu.cn/shibboleth'
2019-07-31 19:15:09,850 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.ReadConsentFromStorage:53] - Profile Action ReadConsentFromStorage: Read storage record 'null' with context 'intercept/attribute-release' and key 'carsitest:https://sptest.pku.edu.cn/shibboleth'
2019-07-31 19:15:09,851 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.ReadConsentFromStorage:57] - Profile Action ReadConsentFromStorage: No storage record for context 'intercept/attribute-release' and key 'carsitest:https://sptest.pku.edu.cn/shibboleth'
2019-07-31 19:15:09,851 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.FlowIdLookupFunction:69] - Current flow id is 'intercept/attribute-release'
2019-07-31 19:15:09,852 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.ReadConsentFromStorage:53] - Profile Action ReadConsentFromStorage: Read storage record 'null' with context 'intercept/attribute-release' and key 'carsitest'
2019-07-31 19:15:09,852 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.ReadConsentFromStorage:57] - Profile Action ReadConsentFromStorage: No storage record for context 'intercept/attribute-release' and key 'carsitest'
2019-07-31 19:15:09,853 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.impl.PopulateConsentContext:65] - Profile Action PopulateConsentContext: Populating consents: [eduPersonScopedAffiliation]
2019-07-31 19:15:09,854 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.IsConsentRequiredPredicate:109] - Consent is required, no previous consents           åŠ¡'
2019-07-31 19:15:09,860 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:390] - No matching description in UIInfo¬å¤§å­¦é¢„ä¸Šçº¿çŽ¯å¢ƒæµ‹è¯•SPæœ
2019-07-31 19:15:09,860 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:390] - No matching description in UIInfo
2019-07-31 19:15:09,860 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:656] - No UIInfo or InformationURLs returning null
2019-07-31 19:15:09,861 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:681] - No UIInfo or PrivacyStatementURLs returning null
2019-07-31 19:15:09,861 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:776] - Returning logo from UIInfo, (80 x 80) : https://mgmt.carsi.edu.cn/member_files/pku.edu.cn/pku.edu.cn-logo.png
2019-07-31 19:15:09,861 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:264] - Acceptable Scheme 'https', returning value 'https://mgmt.carsi.edu.cn/member_files/pku.edu.cn/pku.edu.cn-logo.png'
2019-07-31 19:15:09,861 - 162.105.126.239 - DEBUG [net.shibboleth.idp.ui.context.RelyingPartyUIContext:569] - Returning OrganizationName from Organization, Peking University
2019-07-31 19:15:11,372 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.impl.ExtractConsent:81] - Profile Action ExtractConsent: Extracted consent ids '[eduPersonScopedAffiliation]' from request parameter '_shib_idp_consentIds'
2019-07-31 19:15:11,372 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.impl.ExtractConsent:93] - Profile Action ExtractConsent: Consent context 'ConsentContext{previousConsents={}, chosenConsents={eduPersonScopedAffiliation=Consent{id=eduPersonScopedAffiliation, value=null, isApproved=true}}}'
2019-07-31 19:15:11,373 - 162.105.126.239 - INFO [Shibboleth-Consent-Audit.SSO:275] - 20190731T111511Z|https://sptest.pku.edu.cn/shibboleth|AttributeReleaseConsent|carsitest|eduPersonScopedAffiliation||true
2019-07-31 19:15:11,374 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.FlowIdLookupFunction:69] - Current flow id is 'intercept/attribute-release'
2019-07-31 19:15:11,374 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.JoinFunction:81] - Result 'carsitest:https://sptest.pku.edu.cn/shibboleth'
2019-07-31 19:15:11,375 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.logic.impl.JoinFunction:81] - Result 'carsitest:_key_idx'
2019-07-31 19:15:11,375 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.storage.impl.ConsentSerializer:209] - Serialized '{eduPersonScopedAffiliation=Consent{id=eduPersonScopedAffiliation, value=null, isApproved=true}}' as '[{"id":308}]'
2019-07-31 19:15:11,375 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.CreateResult:79] - Profile Action CreateResult: Created consent result 'ConsentResult{id=null, context=intercept/attribute-release, key=carsitest:https://sptest.pku.edu.cn/shibboleth, value=[{"id":308}], expiration=1596107711375}'
2019-07-31 19:15:11,375 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.AbstractConsentIndexedStorageAction:177] - Profile Action CreateResult: Read storage record 'null' with context 'intercept/attribute-release' and key 'carsitest:_key_idx'
2019-07-31 19:15:11,376 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.AbstractConsentIndexedStorageAction:279] - Profile Action CreateResult: Will not prune storage records, number of keys '0' is less than max number of records '10'
2019-07-31 19:15:11,376 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.AbstractConsentIndexedStorageAction:198] - Profile Action CreateResult: Read storage record 'null' with context 'intercept/attribute-release' and key 'carsitest:_key_idx'
2019-07-31 19:15:11,376 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.storage.impl.AbstractConsentIndexedStorageAction:202] - Profile Action CreateResult: Creating storage index with key 'carsitest:https://sptest.pku.edu.cn/shibboleth'
2019-07-31 19:15:11,376 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.storage.impl.CollectionSerializer:90] - Serialized '[carsitest:https://sptest.pku.edu.cn/shibboleth]' as '["carsitest:https://sptest.pku.edu.cn/shibboleth"]'
2019-07-31 19:15:11,377 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.AbstractAttributeReleaseAction:153] - Profile Action ReleaseAttributes: Found attributeContext 'net.shibboleth.idp.attribute.context.AttributeContext@6e49528e'
2019-07-31 19:15:11,377 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.ReleaseAttributes:64] - Profile Action ReleaseAttributes: Consents '{eduPersonScopedAffiliation=Consent{id=eduPersonScopedAffiliation, value=null, isApproved=true}}'
2019-07-31 19:15:11,377 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.ReleaseAttributes:67] - Profile Action ReleaseAttributes: Attributes before release '{eduPersonScopedAffiliation=IdPAttribute{id=eduPersonScopedAffiliation, displayNames={}, displayDescriptions={}, encoders=[net.shibboleth.idp.saml.attribute.encoding.impl.SAML2ScopedStringAttributeEncoder@23ac74, net.shibboleth.idp.saml.attribute.encoding.impl.SAML1ScopedStringAttributeEncoder@bab64ea8], values=[ScopedStringAttributeValue{value=faculty, scope=pku.edu.cn}]}}'
2019-07-31 19:15:11,377 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.ReleaseAttributes:85] - Profile Action ReleaseAttributes: Attribute 'IdPAttribute{id=eduPersonScopedAffiliation, displayNames={}, displayDescriptions={}, encoders=[net.shibboleth.idp.saml.attribute.encoding.impl.SAML2ScopedStringAttributeEncoder@23ac74, net.shibboleth.idp.saml.attribute.encoding.impl.SAML1ScopedStringAttributeEncoder@bab64ea8], values=[ScopedStringAttributeValue{value=faculty, scope=pku.edu.cn}]}' will be released because consent is approved
2019-07-31 19:15:11,378 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.ReleaseAttributes:94] - Profile Action ReleaseAttributes: Releasing attributes '{eduPersonScopedAffiliation=IdPAttribute{id=eduPersonScopedAffiliation, displayNames={}, displayDescriptions={}, encoders=[net.shibboleth.idp.saml.attribute.encoding.impl.SAML2ScopedStringAttributeEncoder@23ac74, net.shibboleth.idp.saml.attribute.encoding.impl.SAML1ScopedStringAttributeEncoder@bab64ea8], values=[ScopedStringAttributeValue{value=faculty, scope=pku.edu.cn}]}}'
2019-07-31 19:15:11,378 - 162.105.126.239 - DEBUG [net.shibboleth.idp.consent.flow.ar.impl.ReleaseAttributes:96] - Profile Action ReleaseAttributes: Not releasing attributes '{}'
2019-07-31 19:15:11,378 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.WriteProfileInterceptorResultToStorage:68] - Profile Action WriteProfileInterceptorResultToStorage: No results available from interceptor context, nothing to store
2019-07-31 19:15:11,379 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.FilterFlowsByNonBrowserSupport:52] - Profile Action FilterFlowsByNonBrowserSupport: Request does not have non-browser requirement, nothing to do
2019-07-31 19:15:11,379 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:65] - Profile Action SelectProfileInterceptorFlow: Moving completed flow intercept/attribute-release to completed set, selecting next one
2019-07-31 19:15:11,379 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.interceptor.impl.SelectProfileInterceptorFlow:80] - Profile Action SelectProfileInterceptorFlow: No flows available to choose from
2019-07-31 19:15:11,382 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.BaseAddAuthenticationStatementToAssertion:170] - Profile Action AddAuthnStatementToAssertion: Attempting to add an AuthenticationStatement to outgoing Assertion
2019-07-31 19:15:11,383 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.AddAuthnStatementToAssertion:168] - Profile Action AddAuthnStatementToAssertion: Added AuthenticationStatement to Assertion _5bce437fe3ab23dd5574dc4571be9052
2019-07-31 19:15:11,384 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.BaseAddAttributeStatementToAssertion:229] - Profile Action AddAttributeStatementToAssertion: Attempting to add an AttributeStatement to outgoing Assertion
2019-07-31 19:15:11,385 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.AddAttributeStatementToAssertion:173] - Profile Action AddAttributeStatementToAssertion: Attempting to encode attribute eduPersonScopedAffiliation as a SAML 2 Attribute
2019-07-31 19:15:11,385 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.AddAttributeStatementToAssertion:187] - Profile Action AddAttributeStatementToAssertion: Encoding attribute eduPersonScopedAffiliation as a SAML 2 Attribute
2019-07-31 19:15:11,385 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.attribute.encoding.AbstractSAMLAttributeEncoder:154] - Beginning to encode attribute eduPersonScopedAffiliation
2019-07-31 19:15:11,386 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.attribute.encoding.SAMLEncoderSupport:73] - Encoding value faculty@pku.edu.cn of attribute eduPersonScopedAffiliation
2019-07-31 19:15:11,386 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.attribute.encoding.AbstractSAMLAttributeEncoder:191] - Completed encoding 1 values for attribute eduPersonScopedAffiliation
2019-07-31 19:15:11,386 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.impl.AddAttributeStatementToAssertion:116] - Profile Action AddAttributeStatementToAssertion: Adding constructed AttributeStatement to Assertion _5bce437fe3ab23dd5574dc4571be9052
2019-07-31 19:15:11,388 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.logic.DefaultNameIdentifierFormatStrategy:125] - Configuration specifies the following formats: []
2019-07-31 19:15:11,388 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.logic.DefaultNameIdentifierFormatStrategy:135] - No formats specified in configuration or in metadata, returning default
2019-07-31 19:15:11,392 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.DecorateDelegatedAssertion:592] - Found Assertion with AuthnStatement to decorate in outbound Response
2019-07-31 19:15:11,392 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.saml2.profile.delegation.impl.DecorateDelegatedAssertion:290] - Issuance of delegated was not indicated, skipping assertion decoration
2019-07-31 19:15:11,401 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:179] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler of type 'org.opensaml.messaging.handler.impl.BasicMessageHandlerChain' on OUTBOUND message context
2019-07-31 19:15:11,402 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.WebFlowMessageHandlerAdaptor:195] - Profile Action WebFlowMessageHandlerAdaptor: Invoking message handler on message context containing a message of type 'org.opensaml.saml.saml2.core.impl.ResponseImpl'
2019-07-31 19:15:11,411 - 162.105.126.239 - DEBUG [net.shibboleth.idp.saml.profile.impl.SpringAwareMessageEncoderFactory:100] - Looking up message encoder based on binding URI: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST
2019-07-31 19:15:11,415 - 162.105.126.239 - DEBUG [net.shibboleth.idp.profile.impl.RecordResponseComplete:89] - Profile Action RecordResponseComplete: Record response complete
2019-07-31 19:15:11,416 - 162.105.126.239 - INFO [Shibboleth-Audit.SSO:275] - 20190731T111511Z|urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect|_4a2f880659b95c53724299cd0acb3945|https://sptest.pku.edu.cn/shibboleth|http://shibboleth.net/ns/profiles/saml2/sso/browser|https://casidp.pku.edu.cn/idp/shibboleth|urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST|_bef4fcb07bfb0427c0e107fe3a526e73|carsitest|urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport|eduPersonScopedAffiliation|AAdzZWNyZXQxKOxw4wBTqeq2ye8DErRAouc4EuO90xcXYsB3FSaPIXT1eDU8p+NQWpRvlxNmvqFAUid5y4jWw3NJFtBsghA+9JM/O8SmqpSHiM2xg9UinCcI2BKVNqHtmEaT7Osg19+hxmkRBcDKN6J+dg==|_5bce437fe3ab23dd5574dc4571be9052|true

